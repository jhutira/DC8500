/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/systemscreen_screen/systemScreenViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

systemScreenViewBase::systemScreenViewBase() :
    buttonCallback(this, &systemScreenViewBase::buttonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    i_bg.setXY(-2, 0);
    i_bg.setBitmap(touchgfx::Bitmap(BITMAP_MENU_SCREEN_BG_ID));
    add(i_bg);

    scrollCnt.setPosition(10, 70, 780, 321);
    scrollCnt.enableHorizontalScroll(false);
    scrollCnt.setScrollbarsColor(touchgfx::Color::getColorFromRGB(48, 47, 47));
    scrollCnt.setScrollbarsAlpha(255);
    scrollCnt.setScrollbarsPermanentlyVisible();
    list.setPosition(0, 0, 250, 250);
    list.setDirection(touchgfx::SOUTH);
    scrollCnt.add(list);

    add(scrollCnt);

    defaultBtn.setXY(19, 405);
    defaultBtn.setBitmaps(touchgfx::Bitmap(BITMAP_BTN_ID), touchgfx::Bitmap(BITMAP_BTN_PRESSED_ID));
    defaultBtn.setLabelText(touchgfx::TypedText(T_S_DEFAULTBTN));
    defaultBtn.setLabelColor(touchgfx::Color::getColorFromRGB(5, 37, 245));
    defaultBtn.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    defaultBtn.setAction(buttonCallback);
    add(defaultBtn);

    backBtn.setXY(2, 1);
    backBtn.setBitmaps(touchgfx::Bitmap(BITMAP_RETURN_BTN56_ID), touchgfx::Bitmap(BITMAP_RETURN_BTN_PRESSED56_ID));
    backBtn.setAction(buttonCallback);
    add(backBtn);

    okBtn.setXY(723, 1);
    okBtn.setBitmaps(touchgfx::Bitmap(BITMAP_OK_BTN56_ID), touchgfx::Bitmap(BITMAP_OK_BTN_PRESSED56_ID));
    okBtn.setAction(buttonCallback);
    add(okBtn);

    line1.setPosition(5, 60, 790, 5);
    line1Painter.setColor(touchgfx::Color::getColorFromRGB(250, 250, 250));
    line1.setPainter(line1Painter);
    line1.setStart(0, 0);
    line1.setEnd(790, 0);
    line1.setLineWidth(3);
    line1.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    add(line1);

    dialogLabel.setPosition(250, 13, 300, 36);
    dialogLabel.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    dialogLabel.setLinespacing(0);
    dialogLabel.setTypedText(touchgfx::TypedText(T_S_SYSTEMDLG));
    add(dialogLabel);

    i_systemBusy.setXY(360, 207);
    i_systemBusy.setBitmap(touchgfx::Bitmap(BITMAP_SYSTEM_BUSY_ID));
    i_systemBusy.setVisible(false);
    add(i_systemBusy);

    questionDlg.setBackground(touchgfx::BitmapId(BITMAP_QUEST_DLG_CONT_BG_ID), 160, 115);
    questionDlg.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    questionDlg.hide();
    questionDlgCont.setXY(0, 0);
    questionDlg.add(questionDlgCont);

    add(questionDlg);

    editNumDlg.setBackground(touchgfx::BitmapId(BITMAP_EDIT_NUM_CONT_BG_ID), 160, 90);
    editNumDlg.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    editNumDlg.hide();
    editNumDlgCont.setXY(0, 0);
    editNumDlg.add(editNumDlgCont);

    add(editNumDlg);

    editTimeDlg.setBackground(touchgfx::BitmapId(BITMAP_EDIT_NUM_CONT_BG_ID), 160, 90);
    editTimeDlg.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    editTimeDlg.hide();
    editTimeDlgCont.setXY(0, 0);
    editTimeDlg.add(editTimeDlgCont);

    add(editTimeDlg);
}

systemScreenViewBase::~systemScreenViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void systemScreenViewBase::setupScreen()
{
    questionDlgCont.initialize();
    editNumDlgCont.initialize();
    editTimeDlgCont.initialize();
}

void systemScreenViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &okBtn)
    {
        //okBtn_itt
        //When okBtn clicked call virtual function
        //Call okBtn_clicked
        okBtn_clicked();
    }
    if (&src == &backBtn)
    {
        //backBtn_itt
        //When backBtn clicked change screen to serviceScreen
        //Go to serviceScreen with no screen transition
        application().gotoserviceScreenScreenNoTransition();
    }
    if (&src == &defaultBtn)
    {
        //defaultBtn_itt
        //When defaultBtn clicked call virtual function
        //Call defaultBtn_clicked
        defaultBtn_clicked();
    }
}
