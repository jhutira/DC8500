/*******************************************************************************
** Modbus
********************************************************************************
*
* MODBUS driver:
*
*
* v1.0
*
* 26.11.2022
*******************************************************************************/
#include <modbus/modbus_server_rtu.h>
//#include "rs485.h"

//#include "hardware.h"

/******************************************************************************
** Constants
*******************************************************************************/


/******************************************************************************
** Variables
*******************************************************************************/


/******************************************************************************
** Functions
*******************************************************************************/



/******************************************************************************
** modbus_rtu_init
*******************************************************************************
* Description    : MODBUS RTU init 
* Input          : *mb: pointer to a modbus structure
* Return         : None 
*******************************************************************************/
void modbus_server_rtu_init(modbus_t *mb)
{
    rs485_init();
    rs485_clearBufTX();
    rs485_clearBufRX();
    modbus_init(mb, MODBUS_RTU_MODE, (uint8_t*)&rx1_buf[0], (uint8_t*)&tx1_buf[0]);
    modbus_bankreg_init();
}







